<div >
  <h1 >New Statement</h1>

  <% if @statement.errors.any? %>
    <div>
      <h2> Something went wrong, please check the following items: </h2>
      
      <ul>
        <% @statement.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%= form_with(model: @statement) do |f| %>

    <div id='statement_items'>
      <%= f.fields_for :statement_items  do |si| %>
        <% si.hidden_field :id %>
        <%= si.label :name %>
        <%= si.text_field :name %>
        <%= si.label :amount_pennies %>
        <%= si.number_field :amount_pennies %>
        <%= si.label :statement_type %>
        <%= si.select :statement_type, [['expenditure', 0], ['income', 1]]  %>
      <% end %>
    </div>
    <%= f.button :submit %>
    <% end %>
  <br>

  <div>
    <%= link_to "Cancel", :back %>
  <div>
</div>
